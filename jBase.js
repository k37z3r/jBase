/*!
* jBase Â© 2024 by Sven Reddemann is licensed under Attribution-NonCommercial-ShareAlike 4.0 International.
* To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/
* Link to Work: https://github.com/k37z3r/jBase
* Link to Creator Profile: https://github.com/k37z3r
*/
let _jBaseTSC=!1;class JBase extends Array{constructor(e){if(super(),e==document||e instanceof HTMLElement||e==window)this.push(e);else{let elements=document.querySelectorAll(e);for(let i=0;i<elements.length;i++)this.push(elements[i])}}ready(_cb){this[0].addEventListener("readystatechange",(e=>{if("complete"===this[0].readyState)return _cb(),!0}))}each(_cb){if(_cb&&"function"==typeof _cb){for(let i=0;i<this.length;i++)_cb(this[i],i);return this}}addClass(arg){return this.each((function(e){e.classList.add(arg)})),this}removeClass(arg){return this.each((function(e){e.classList.remove(arg)})),this}val(){return this[0].value}hasClass(arg){return this[0].classList.contains(arg)}css(arg){return this.each((function(e){Object.assign(e.style,arg)})),this}attr(att,val=null){let getatt=this;return val?this.each((function(e){e.setAttribute(att,val)})):getatt=this[0].getAttribute(att),getatt}removeAttr(arg){this[0].removeAttribute(arg)}html(arg){return arg?(this.each((function(e){e.innerHTML=arg})),this):this[0].innerHTML}append(arg){return this[0].append(arg),this}toggleSlide(arg={}){let timers,transitions,transformIn,transformOut;return timers=Object.hasOwn(arg,"timer")?"slow"==arg.timer?"800ms":"fast"==arg.timer?"200ms":"moderate"==arg.timer?"500ms":arg.timer:"500ms",transitions=Object.hasOwn(arg,"transition")&&"ease"==arg.transition?"ease":"linear",Object.hasOwn(arg,"transform")&&Object.hasOwn(arg.transform,"in")&&Object.hasOwn(arg.transform,"out")?(transformIn=arg.transform.in,transformOut=arg.transform.out):(transformIn="translateY(0%)",transformOut="translateY(100%)"),this.each((function(e){_jBaseTSC?(_jBaseTSC=!1,e.style.transform=transformOut,e.style.transitionTimingFunction=transitions,e.style.transition=timers):(_jBaseTSC=!0,e.style.transform=transformIn,e.style.transitionTimingFunction=transitions,e.style.transition=timers)})),this}prepend(arg){return this[0].prepend(arg),this}hide(){return this.each((function(e){e.style.display="none"})),this}show(){return this.each((function(e){e.style.display="block"})),this}on(events,child,_cb=null,state=null){let arr=events.split(",");return null!=_cb?this.each((function(e){arr.forEach((event=>{event=event.trim(),e.addEventListener(event,(function(event){event.target.matches(child+", "+child+" *")&&_cb.apply(event.target.closest(child),arguments)}),!1)}))})):(_cb=child,this.each((function(e){arr.forEach((event=>{event=event.trim(),state?e.addEventListener(event,_cb,state):e.addEventListener(event,_cb,!1)}))}))),this}disable(arg){return this[0].disabled=arg}}const $=function(e){return new JBase(e)};$.ajax=function(arg){let url=arg.url,type="get",success=function(){},fail=function(){};arg.success&&(success=arg.success),arg.fail&&(fail=arg.fail);let xhttp=new XMLHttpRequest;xhttp.onerror=function(error){return fail(error)},xhttp.onload=function(){if(4==this.readyState&&200==this.status){let response;try{response=JSON.parse(this.responseText)}catch(e){response=this.responseText}return success(response)}return fail(this.status)};let param="";arg&&(type=arg.type,"data"in arg&&(param=new URLSearchParams(arg.data).toString())),type&&"POST"==type.toUpperCase()?(xhttp.open("POST",url,!0),xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send(param)):type&&"GET"!=type.toUpperCase()||(xhttp.open("GET",url+"?"+param,!0),xhttp.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhttp.send())};

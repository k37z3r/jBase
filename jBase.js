/*!
* jBase Â© 2024 by Sven Reddemann is licensed under Attribution-NonCommercial-ShareAlike 4.0 International.
* To view a copy of this license, visit http://creativecommons.org/licenses/by-nc-sa/4.0/
* Link to Work: https://github.com/k37z3r/jBase
* Link to Creator Profile: https://github.com/k37z3r
*/
let _toggleSlideClicked=!1;class JBase extends Array{constructor(el){if(super(),el==document||el instanceof HTMLElement)this.push(el);else{let elements=document.querySelectorAll(el);for(let i=0;i<elements.length;i++)this.push(elements[i])}}ready(callback){this[0].addEventListener("readystatechange",(e=>{if("complete"===this[0].readyState)return callback(),!0}))}each(callback){if(callback&&"function"==typeof callback){for(let i=0;i<this.length;i++)callback(this[i],i);return this}}addClass(className){return this.each((function(el){el.classList.add(className)})),this}removeClass(className){return this.each((function(el){el.classList.remove(className)})),this}val(){return this[0].value}hasClass(className){return this[0].classList.contains(className)}css(propertyObject){return this.each((function(el){Object.assign(el.style,propertyObject)})),this}attr(attr,value=null){let getattr=this;return value?this.each((function(el){el.setAttribute(attr,value)})):getattr=this[0].getAttribute(attr),getattr}html(data){return data?(this.each((function(el){el.innerHTML=data})),this):this[0].innerHTML}append(el){return this[0].append(el),this}toggleSlide(data={}){let timers,transitions,transformIn,transformOut;return timers=Object.hasOwn(data,"timer")?"slow"==data.timer?"800ms":"fast"==data.timer?"200ms":"moderate"==data.timer?"500ms":data.timer:"500ms",transitions=Object.hasOwn(data,"transition")&&"ease"==data.transition?"ease":"linear",Object.hasOwn(data,"transform")&&Object.hasOwn(data.transform,"in")&&Object.hasOwn(data.transform,"out")?(transformIn=data.transform.in,transformOut=data.transform.out):(transformIn="translateY(0%)",transformOut="translateY(100%)"),console.log(_toggleSlideClicked),this.each((function(el){_toggleSlideClicked?(_toggleSlideClicked=!1,el.style.transform=transformOut,el.style.transitionTimingFunction=transitions,el.style.transition=timers):(_toggleSlideClicked=!0,el.style.transform=transformIn,el.style.transitionTimingFunction=transitions,el.style.transition=timers)})),this}prepend(el){return this[0].prepend(el),this}hide(){return this.each((function(el){el.style.display="none"})),this}show(){return this.each((function(el){el.style.display="block"})),this}on(events,child,callback=null,state=null){let array=events.split(",");if(null!=callback){let selector=child;this.each((function(element){array.forEach((event=>{event=event.trim(),element.addEventListener(event,(function(event){event.target.matches(selector+", "+selector+" *")&&callback.apply(event.target.closest(selector),arguments)}),!1)}))}))}else callback=child,this.each((function(element){array.forEach((event=>{event=event.trim(),state?element.addEventListener(event,callback,state):element.addEventListener(event,callback,!1)}))}));return this}disable(el){return this[0].disabled=el}}const $=function(el){return new JBase(el)};$.ajax=function(arg){let url=arg.url,type="get",success=function(){},fail=function(){};arg.success&&(success=arg.success),arg.fail&&(fail=arg.fail);let xhttp=new XMLHttpRequest;xhttp.onerror=function(error){return fail(error)},xhttp.onload=function(){if(4==this.readyState&&200==this.status){let response="";try{response=JSON.parse(this.responseText)}catch(e){response=this.responseText}return success(response)}return fail(this.status)};let parameters="";arg&&(type=arg.type,"data"in arg&&(parameters=new URLSearchParams(arg.data).toString())),type&&"POST"==type.toUpperCase()?(xhttp.open("POST",url,!0),xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send(parameters)):type&&"GET"!=type.toUpperCase()||(xhttp.open("GET",url+"?"+parameters,!0),xhttp.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhttp.send())};
